{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kyril\\\\IdeaProjects\\\\car-maintenance-tracker\\\\frontend\\\\src\\\\components\\\\AddMaintenance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { Box, Typography, TextField, Button, Autocomplete, useTheme } from \"@mui/material\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddMaintenance({\n  onAdd\n}) {\n  _s();\n  const theme = useTheme(); // access current theme mode\n  const [serviceType, setServiceType] = useState(\"\");\n  const [mileage, setMileage] = useState(\"\");\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\n  const maintenanceOptions = [\"Oil Change\", \"Brake Pads\", \"Tire Rotation\", \"Battery Replacement\", \"Spark Plugs\", \"Coolant Flush\", \"Transmission Fluid\", \"Cabin Air Filter\", \"Inspection\", \"Alignment\", \"Tire Change\", \"Power Steering Fluid\", \"Serpentine Belt\", \"Wiper Blades\", \"Brake Fluid\", \"Engine Replacement\", \"Transmission Replacement\", \"Brake Caliper Replacement\", \"Strut Replacement\", \"Wheel Balance\", \"Alternator Replacement\", \"Engine Air Filter Replacement\", \"Headlight Bulb Replacement\", \"Windshield Crack Repair\", \"Windshield Replacement\", \"Custom...\"];\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const token = await user.getIdToken();\n      const uid = user.uid;\n      const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          serviceType,\n          mileage,\n          date,\n          user_id: uid // ðŸ”¥ THIS LINE IS IMPORTANT\n        })\n      });\n      if (response.ok) {\n        const saved = await response.json();\n        onAdd(saved); // live update\n        setServiceType(\"\");\n        setMileage(\"\");\n        setDate(new Date().toISOString().split(\"T\")[0]);\n      } else {\n        console.error(\"Failed to add record\");\n      }\n    } catch (err) {\n      console.error(\"Submit error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: \"600px\",\n      margin: \"auto\",\n      marginTop: \"20px\",\n      padding: \"20px\",\n      borderRadius: \"8px\",\n      backgroundColor: \"background.paper\",\n      // âœ… MUI theme handles this\n      boxShadow: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      fontWeight: \"bold\",\n      gutterBottom: true,\n      children: \"Add Maintenance Record\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n        freeSolo: true,\n        fullWidth: true,\n        options: maintenanceOptions,\n        value: serviceType,\n        onChange: (event, newValue) => setServiceType(newValue),\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Service Type\",\n          variant: \"outlined\",\n          required: true,\n          margin: \"normal\",\n          sx: {\n            input: {\n              backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\n              color: theme.palette.text.primary\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Mileage\",\n        type: \"number\",\n        value: mileage,\n        onChange: e => setMileage(e.target.value),\n        inputProps: {\n          min: 0,\n          max: 1000000\n        },\n        variant: \"outlined\",\n        required: true,\n        margin: \"normal\",\n        sx: {\n          input: {\n            backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\n            color: theme.palette.text.primary\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Date\",\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        InputLabelProps: {\n          shrink: true\n        },\n        inputProps: {\n          max: new Date().toISOString().split(\"T\")[0]\n        },\n        variant: \"outlined\",\n        required: true,\n        margin: \"normal\",\n        sx: {\n          input: {\n            backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\n            color: theme.palette.text.primary\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        sx: {\n          marginTop: \"16px\"\n        },\n        children: \"Add Record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(AddMaintenance, \"N0qG7jVyFqdMAv4PQaLFxtO8TYg=\", false, function () {\n  return [useTheme];\n});\n_c = AddMaintenance;\nexport default AddMaintenance;\nvar _c;\n$RefreshReg$(_c, \"AddMaintenance\");","map":{"version":3,"names":["React","useState","useContext","Box","Typography","TextField","Button","Autocomplete","useTheme","auth","jsxDEV","_jsxDEV","AddMaintenance","onAdd","_s","theme","serviceType","setServiceType","mileage","setMileage","date","setDate","Date","toISOString","split","maintenanceOptions","handleSubmit","e","preventDefault","token","user","getIdToken","uid","response","fetch","method","headers","Authorization","body","JSON","stringify","user_id","ok","saved","json","console","error","err","sx","maxWidth","margin","marginTop","padding","borderRadius","backgroundColor","boxShadow","children","variant","fontWeight","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","freeSolo","fullWidth","options","value","onChange","event","newValue","renderInput","params","label","required","input","palette","mode","color","text","primary","type","target","inputProps","min","max","InputLabelProps","shrink","_c","$RefreshReg$"],"sources":["C:/Users/kyril/IdeaProjects/car-maintenance-tracker/frontend/src/components/AddMaintenance.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Autocomplete,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport { auth } from \"../firebase\";\r\n\r\nfunction AddMaintenance({ onAdd }) {\r\n  const theme = useTheme(); // access current theme mode\r\n  const [serviceType, setServiceType] = useState(\"\");\r\n  const [mileage, setMileage] = useState(\"\");\r\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\r\n\r\n  const maintenanceOptions = [\r\n    \"Oil Change\",\r\n    \"Brake Pads\",\r\n    \"Tire Rotation\",\r\n    \"Battery Replacement\",\r\n    \"Spark Plugs\",\r\n    \"Coolant Flush\",\r\n    \"Transmission Fluid\",\r\n    \"Cabin Air Filter\",\r\n    \"Inspection\",\r\n    \"Alignment\",\r\n    \"Tire Change\",\r\n    \"Power Steering Fluid\",\r\n    \"Serpentine Belt\",\r\n    \"Wiper Blades\",\r\n    \"Brake Fluid\",\r\n    \"Engine Replacement\",\r\n    \"Transmission Replacement\",\r\n    \"Brake Caliper Replacement\",\r\n    \"Strut Replacement\",\r\n    \"Wheel Balance\",\r\n    \"Alternator Replacement\",\r\n    \"Engine Air Filter Replacement\",\r\n    \"Headlight Bulb Replacement\",\r\n    \"Windshield Crack Repair\",\r\n    \"Windshield Replacement\",\r\n    \"Custom...\",\r\n  ];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = await user.getIdToken();\r\n      const uid = user.uid;\r\n  \r\n      const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          serviceType,\r\n          mileage,\r\n          date,\r\n          user_id: uid,  // ðŸ”¥ THIS LINE IS IMPORTANT\r\n        }),\r\n      });\r\n  \r\n      if (response.ok) {\r\n        const saved = await response.json();\r\n        onAdd(saved); // live update\r\n        setServiceType(\"\");\r\n        setMileage(\"\");\r\n        setDate(new Date().toISOString().split(\"T\")[0]);\r\n      } else {\r\n        console.error(\"Failed to add record\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Submit error:\", err);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <Box\r\n    sx={{\r\n      maxWidth: \"600px\",\r\n      margin: \"auto\",\r\n      marginTop: \"20px\",\r\n      padding: \"20px\",\r\n      borderRadius: \"8px\",\r\n      backgroundColor: \"background.paper\",  // âœ… MUI theme handles this\r\n      boxShadow: 3,\r\n    }}\r\n  >\r\n  \r\n      <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n        Add Maintenance Record\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <Autocomplete\r\n          freeSolo\r\n          fullWidth\r\n          options={maintenanceOptions}\r\n          value={serviceType}\r\n          onChange={(event, newValue) => setServiceType(newValue)}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label=\"Service Type\"\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"normal\"\r\n              sx={{\r\n                input: {\r\n                  backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\r\n                  color: theme.palette.text.primary,\r\n                },\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Mileage\"\r\n          type=\"number\"\r\n          value={mileage}\r\n          onChange={(e) => setMileage(e.target.value)}\r\n          inputProps={{ min: 0, max: 1000000 }}\r\n          variant=\"outlined\"\r\n          required\r\n          margin=\"normal\"\r\n          sx={{\r\n            input: {\r\n              backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\r\n              color: theme.palette.text.primary,\r\n            },\r\n          }}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Date\"\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          InputLabelProps={{ shrink: true }}\r\n          inputProps={{ max: new Date().toISOString().split(\"T\")[0] }}\r\n          variant=\"outlined\"\r\n          required\r\n          margin=\"normal\"\r\n          sx={{\r\n            input: {\r\n              backgroundColor: theme.palette.mode === \"dark\" ? \"#2c2c2c\" : \"#fff\",\r\n              color: theme.palette.text.primary,\r\n            },\r\n          }}\r\n        />\r\n        <Button\r\n          fullWidth\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          sx={{ marginTop: \"16px\" }}\r\n        >\r\n          Add Record\r\n        </Button>\r\n      </form>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default AddMaintenance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}