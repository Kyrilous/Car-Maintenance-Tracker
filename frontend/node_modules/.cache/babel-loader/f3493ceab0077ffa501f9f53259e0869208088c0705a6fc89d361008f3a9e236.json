{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kyril\\\\IdeaProjects\\\\car-maintenance-tracker\\\\frontend\\\\src\\\\components\\\\AddMaintenance.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport Box from \"@mui/material/Box\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddMaintenance({\n  userId,\n  onAdd\n}) {\n  _s();\n  const [serviceType, setServiceType] = useState(\"\");\n  const [mileage, setMileage] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!userId) {\n      console.error(\"No user ID found, cannot submit record.\");\n      return;\n    }\n    if (!serviceType || !mileage || !date) {\n      console.error(\"Missing fields, cannot submit record.\");\n      return;\n    }\n    const newRecord = {\n      user_id: userId,\n      serviceType,\n      mileage,\n      date\n    };\n    console.log(\"Sending request:\", JSON.stringify(newRecord));\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newRecord)\n      });\n      if (!response.ok) {\n        const errorResponse = await response.text();\n        console.error(\"❌ Failed to add record:\", errorResponse);\n        throw new Error(\"Failed to add record\");\n      }\n      console.log(\"✅ Record Added Successfully!\");\n      setMileage(\"\");\n      setDate(\"\");\n      setServiceType(\"\");\n      onAdd(); // Refresh records\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      gap: 2,\n      width: \"100%\",\n      maxWidth: \"400px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      select: true,\n      fullWidth: true,\n      label: \"Service Type\",\n      value: serviceType,\n      onChange: e => setServiceType(e.target.value),\n      variant: \"outlined\",\n      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Oil Change\",\n        children: \"Oil Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Brake Pads\",\n        children: \"Brake Pads\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: \"Tire Rotation\",\n        children: \"Tire Rotation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      type: \"number\",\n      label: \"Mileage\",\n      value: mileage,\n      onChange: e => setMileage(e.target.value),\n      variant: \"outlined\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      type: \"date\",\n      label: \"Date\",\n      InputLabelProps: {\n        shrink: true\n      },\n      value: date,\n      onChange: e => setDate(e.target.value),\n      variant: \"outlined\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      sx: {\n        width: \"100%\",\n        fontSize: \"16px\",\n        padding: \"10px\",\n        borderRadius: \"8px\"\n      },\n      onClick: handleSubmit,\n      children: \"ADD MAINTENANCE RECORD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 8\n  }, this);\n}\n_s(AddMaintenance, \"U2jCVqLJ4JmCgRsybyMS3Mhz/c8=\");\n_c = AddMaintenance;\nexport default AddMaintenance;\nvar _c;\n$RefreshReg$(_c, \"AddMaintenance\");","map":{"version":3,"names":["React","useState","TextField","Button","MenuItem","Select","FormControl","InputLabel","Box","jsxDEV","_jsxDEV","AddMaintenance","userId","onAdd","_s","serviceType","setServiceType","mileage","setMileage","date","setDate","handleSubmit","e","preventDefault","console","error","newRecord","user_id","log","JSON","stringify","response","fetch","method","headers","body","ok","errorResponse","text","Error","sx","display","flexDirection","alignItems","gap","width","maxWidth","margin","children","select","fullWidth","label","value","onChange","target","variant","fileName","_jsxFileName","lineNumber","columnNumber","type","InputLabelProps","shrink","color","fontSize","padding","borderRadius","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kyril/IdeaProjects/car-maintenance-tracker/frontend/src/components/AddMaintenance.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\n\r\n\r\n\r\nfunction AddMaintenance({ userId ,onAdd }){\r\n    const [serviceType, setServiceType] = useState(\"\");\r\n    const [mileage, setMileage] = useState(\"\");\r\n    const [date, setDate] = useState(\"\");\r\n\r\n    const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!userId) {\r\n        console.error(\"No user ID found, cannot submit record.\");\r\n        return;\r\n    }\r\n\r\n    if (!serviceType || !mileage || !date) {\r\n        console.error(\"Missing fields, cannot submit record.\");\r\n        return;\r\n    }\r\n\r\n    const newRecord = { \r\n        user_id: userId, \r\n        serviceType, \r\n        mileage, \r\n        date \r\n    };\r\n\r\n    console.log(\"Sending request:\", JSON.stringify(newRecord));\r\n\r\n    try {\r\n        const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(newRecord),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorResponse = await response.text();\r\n            console.error(\"❌ Failed to add record:\", errorResponse);\r\n            throw new Error(\"Failed to add record\");\r\n        }\r\n\r\n        console.log(\"✅ Record Added Successfully!\");\r\n        setMileage(\"\");\r\n        setDate(\"\");\r\n        setServiceType(\"\");\r\n        onAdd();  // Refresh records\r\n\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n    }\r\n};\r\n\r\n    \r\n\r\n\r\n    return (\r\n       <Box\r\n  sx={{\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    gap: 2, \r\n    width: \"100%\",\r\n    maxWidth: \"400px\", \r\n    margin: \"auto\",\r\n  }}\r\n>\r\n  {/* Service Type Dropdown */}\r\n  <TextField\r\n    select\r\n    fullWidth\r\n    label=\"Service Type\"\r\n    value={serviceType}\r\n    onChange={(e) => setServiceType(e.target.value)}\r\n    variant=\"outlined\"\r\n  >\r\n    <MenuItem value=\"Oil Change\">Oil Change</MenuItem>\r\n    <MenuItem value=\"Brake Pads\">Brake Pads</MenuItem>\r\n    <MenuItem value=\"Tire Rotation\">Tire Rotation</MenuItem>\r\n  </TextField>\r\n\r\n  {/* Mileage Input */}\r\n  <TextField\r\n    fullWidth\r\n    type=\"number\"\r\n    label=\"Mileage\"\r\n    value={mileage}\r\n    onChange={(e) => setMileage(e.target.value)}\r\n    variant=\"outlined\"\r\n  />\r\n\r\n  {/* Date Input */}\r\n  <TextField\r\n    fullWidth\r\n    type=\"date\"\r\n    label=\"Date\"\r\n    InputLabelProps={{ shrink: true }}\r\n    value={date}\r\n    onChange={(e) => setDate(e.target.value)}\r\n    variant=\"outlined\"\r\n  />\r\n\r\n  {/* Submit Button */}\r\n  <Button\r\n    variant=\"contained\"\r\n    color=\"primary\"\r\n    sx={{ width: \"100%\", fontSize: \"16px\", padding: \"10px\", borderRadius: \"8px\" }}\r\n    onClick={handleSubmit}\r\n\r\n  >\r\n    ADD MAINTENANCE RECORD\r\n  </Button>\r\n</Box>\r\n        \r\n      );\r\n        \r\n      \r\n    }\r\n\r\n    \r\n    \r\n    export default AddMaintenance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}