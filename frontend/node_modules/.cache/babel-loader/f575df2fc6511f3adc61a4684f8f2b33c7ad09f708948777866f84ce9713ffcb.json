{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kyril\\\\IdeaProjects\\\\car-maintenance-tracker\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport AddMaintenance from \"./AddMaintenance\";\nimport MaintenanceList from \"./MaintenanceList\";\nimport { auth } from \"../firebase\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { Button, Box, Typography, Container } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _user$displayName;\n  const [user, setUser] = useState(null);\n  const [records, setRecords] = useState([]);\n  useEffect(() => {\n    onAuthStateChanged(auth, currentUser => {\n      setUser(currentUser);\n    });\n  }, []);\n  useEffect(() => {\n    const fetchRecords = async () => {\n      if (!user) return;\n      const token = await user.getIdToken();\n      const response = await fetch(\"http://127.0.0.1:5000/records\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setRecords(data);\n      } else {\n        console.error(\"Failed to fetch records\");\n      }\n    };\n    fetchRecords();\n  }, [user]);\n  const handleLogout = async () => {\n    await signOut(auth);\n    setUser(null);\n  };\n  const handleAddRecord = newRecord => {\n    setRecords(prev => [...prev, newRecord]);\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Please sign in\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      sx: {\n        backgroundColor: \"#f5f5f5\",\n        padding: \"1rem 1.5rem\",\n        borderRadius: \"8px\",\n        marginBottom: \"1.5rem\",\n        boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        fontWeight: \"500\",\n        children: [\"Hello, \", ((_user$displayName = user.displayName) === null || _user$displayName === void 0 ? void 0 : _user$displayName.split(\" \")[0]) || \"there\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"error\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      align: \"center\",\n      fontWeight: \"bold\",\n      mb: 3,\n      children: \"\\uD83D\\uDE97 AutoLog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddMaintenance, {\n      onAdd: handleAddRecord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MaintenanceList, {\n      records: records\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"KNsmpAcfbcf7OTPhb8L9PAs6Nmc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","AddMaintenance","MaintenanceList","auth","onAuthStateChanged","signOut","Button","Box","Typography","Container","jsxDEV","_jsxDEV","App","_s","_user$displayName","user","setUser","records","setRecords","currentUser","fetchRecords","token","getIdToken","response","fetch","headers","Authorization","ok","data","json","console","error","handleLogout","handleAddRecord","newRecord","prev","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","display","justifyContent","alignItems","sx","backgroundColor","padding","borderRadius","marginBottom","boxShadow","variant","fontWeight","displayName","split","color","onClick","align","mb","onAdd","_c","$RefreshReg$"],"sources":["C:/Users/kyril/IdeaProjects/car-maintenance-tracker/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport AddMaintenance from \"./AddMaintenance\";\nimport MaintenanceList from \"./MaintenanceList\";\nimport { auth } from \"../firebase\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { Button, Box, Typography, Container } from \"@mui/material\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [records, setRecords] = useState([]);\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n  }, []);\n\n  useEffect(() => {\n    const fetchRecords = async () => {\n      if (!user) return;\n\n      const token = await user.getIdToken();\n      const response = await fetch(\"http://127.0.0.1:5000/records\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setRecords(data);\n      } else {\n        console.error(\"Failed to fetch records\");\n      }\n    };\n\n    fetchRecords();\n  }, [user]);\n\n  const handleLogout = async () => {\n    await signOut(auth);\n    setUser(null);\n  };\n\n  const handleAddRecord = (newRecord) => {\n    setRecords((prev) => [...prev, newRecord]);\n  };\n\n  if (!user) return <Typography>Please sign in</Typography>;\n\n  return (\n    <Container maxWidth=\"md\">\n      <Box\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        sx={{\n          backgroundColor: \"#f5f5f5\",\n          padding: \"1rem 1.5rem\",\n          borderRadius: \"8px\",\n          marginBottom: \"1.5rem\",\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\n        }}\n      >\n        <Typography variant=\"subtitle1\" fontWeight=\"500\">\n          Hello, {user.displayName?.split(\" \")[0] || \"there\"}\n        </Typography>\n        <Button variant=\"outlined\" color=\"error\" onClick={handleLogout}>\n          Logout\n        </Button>\n      </Box>\n\n      <Typography variant=\"h3\" align=\"center\" fontWeight=\"bold\" mb={3}>\n        ðŸš— AutoLog\n      </Typography>\n\n      <AddMaintenance onAdd={handleAddRecord} />\n      <MaintenanceList records={records} />\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}