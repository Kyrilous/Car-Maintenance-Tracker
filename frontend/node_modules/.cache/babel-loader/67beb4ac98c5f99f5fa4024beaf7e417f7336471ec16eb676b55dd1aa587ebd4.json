{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kyril\\\\IdeaProjects\\\\car-maintenance-tracker\\\\frontend\\\\src\\\\components\\\\AddMaintenance.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Box, Typography, TextField, Button, Autocomplete } from \"@mui/material\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddMaintenance({\n  onAdd\n}) {\n  _s();\n  const [serviceType, setServiceType] = useState(\"\");\n  const [mileage, setMileage] = useState(\"\");\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\n  const maintenanceOptions = [\"Oil Change\", \"Brake Pads\", \"Tire Rotation\", \"Battery Replacement\", \"Spark Plugs\", \"Coolant Flush\", \"Transmission Fluid\", \"Cabin Air Filter\", \"Inspection\", \"Alignment\", \"Tire Change\", \"Power Steering Fluid\", \"Serpentine Belt\", \"Wiper Blades\", \"Brake Fluid\", \"Engine Replacement\", \"Transmission Replacement\", \"Brake Caliper Replacement\", \"Strut Replacement\", \"Wheel Balance\", \"Alternator Replacement\", \"Engine Air Filter Replacement\", \"Headlight Bulb Replacement\", \"Windshield Crack Repair\", \"Windshield Replacement\", \"Custom...\"];\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!serviceType || !mileage || !date) return;\n    const user = auth.currentUser;\n    if (!user) {\n      console.error(\"User is not logged in\");\n      return;\n    }\n    const idToken = await user.getIdToken();\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `${idToken}`\n        },\n        body: JSON.stringify({\n          serviceType,\n          mileage,\n          date\n        })\n      });\n      if (!response.ok) throw new Error(\"Failed to add record\");\n      const data = await response.json();\n      console.log(\"Added record:\", data);\n      if (onAdd) {\n        onAdd(data); // ⬅️ This updates the parent state\n      }\n      setServiceType(\"\");\n      setMileage(\"\");\n      setDate(new Date().toISOString().split(\"T\")[0]);\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: \"600px\",\n      margin: \"auto\",\n      marginTop: \"20px\",\n      padding: \"20px\",\n      border: \"1px solid #ccc\",\n      borderRadius: \"8px\",\n      backgroundColor: \"#f9f9f9\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      fontWeight: \"bold\",\n      gutterBottom: true,\n      children: \"Add Maintenance Record\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n        freeSolo: true,\n        fullWidth: true,\n        options: maintenanceOptions,\n        value: serviceType,\n        onChange: (event, newValue) => setServiceType(newValue),\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Service Type\",\n          variant: \"outlined\",\n          required: true,\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Mileage\",\n        type: \"number\",\n        value: mileage,\n        onChange: e => setMileage(e.target.value),\n        inputProps: {\n          min: 0,\n          max: 1000000\n        },\n        variant: \"outlined\",\n        required: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Date\",\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        InputLabelProps: {\n          shrink: true\n        },\n        inputProps: {\n          max: new Date().toISOString().split(\"T\")[0]\n        },\n        variant: \"outlined\",\n        required: true,\n        margin: \"normal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        fullWidth: true,\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        sx: {\n          marginTop: \"16px\"\n        },\n        children: \"Add Record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(AddMaintenance, \"wcXOe7ulzsWj0uphI7asKy+/Ozg=\");\n_c = AddMaintenance;\nexport default AddMaintenance;\nvar _c;\n$RefreshReg$(_c, \"AddMaintenance\");","map":{"version":3,"names":["React","useState","Box","Typography","TextField","Button","Autocomplete","auth","jsxDEV","_jsxDEV","AddMaintenance","onAdd","_s","serviceType","setServiceType","mileage","setMileage","date","setDate","Date","toISOString","split","maintenanceOptions","handleSubmit","e","preventDefault","user","currentUser","console","error","idToken","getIdToken","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","Error","data","json","log","sx","maxWidth","margin","marginTop","padding","border","borderRadius","backgroundColor","children","variant","fontWeight","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","freeSolo","fullWidth","options","value","onChange","event","newValue","renderInput","params","label","required","type","target","inputProps","min","max","InputLabelProps","shrink","color","_c","$RefreshReg$"],"sources":["C:/Users/kyril/IdeaProjects/car-maintenance-tracker/frontend/src/components/AddMaintenance.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Autocomplete,\r\n} from \"@mui/material\";\r\nimport { auth } from \"../firebase\";\r\n\r\nfunction AddMaintenance({ onAdd }) {\r\n  const [serviceType, setServiceType] = useState(\"\");\r\n  const [mileage, setMileage] = useState(\"\");\r\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\r\n\r\n  const maintenanceOptions = [\r\n    \"Oil Change\",\r\n    \"Brake Pads\",\r\n    \"Tire Rotation\",\r\n    \"Battery Replacement\",\r\n    \"Spark Plugs\",\r\n    \"Coolant Flush\",\r\n    \"Transmission Fluid\",\r\n    \"Cabin Air Filter\",\r\n    \"Inspection\",\r\n    \"Alignment\",\r\n    \"Tire Change\",\r\n    \"Power Steering Fluid\",\r\n    \"Serpentine Belt\",\r\n    \"Wiper Blades\",\r\n    \"Brake Fluid\",\r\n    \"Engine Replacement\",\r\n    \"Transmission Replacement\",\r\n    \"Brake Caliper Replacement\",\r\n    \"Strut Replacement\",\r\n    \"Wheel Balance\",\r\n    \"Alternator Replacement\",\r\n    \"Engine Air Filter Replacement\",\r\n    \"Headlight Bulb Replacement\",\r\n    \"Windshield Crack Repair\",\r\n    \"Windshield Replacement\",\r\n    \"Custom...\"\r\n  ];\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!serviceType || !mileage || !date) return;\r\n\r\n    const user = auth.currentUser;\r\n    if (!user) {\r\n      console.error(\"User is not logged in\");\r\n      return;\r\n    }\r\n\r\n    const idToken = await user.getIdToken();\r\n\r\n    try {\r\n      const response = await fetch(\"http://127.0.0.1:5000/add_record\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `${idToken}`,\r\n        },\r\n        body: JSON.stringify({\r\n          serviceType,\r\n          mileage,\r\n          date,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Failed to add record\");\r\n      const data = await response.json();\r\n      console.log(\"Added record:\", data);\r\n\r\n      if (onAdd) {\r\n        onAdd(data); // ⬅️ This updates the parent state\r\n      }\r\n\r\n      setServiceType(\"\");\r\n      setMileage(\"\");\r\n      setDate(new Date().toISOString().split(\"T\")[0]);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        maxWidth: \"600px\",\r\n        margin: \"auto\",\r\n        marginTop: \"20px\",\r\n        padding: \"20px\",\r\n        border: \"1px solid #ccc\",\r\n        borderRadius: \"8px\",\r\n        backgroundColor: \"#f9f9f9\",\r\n      }}\r\n    >\r\n      <Typography variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n        Add Maintenance Record\r\n      </Typography>\r\n      <form onSubmit={handleSubmit}>\r\n        <Autocomplete\r\n          freeSolo\r\n          fullWidth\r\n          options={maintenanceOptions}\r\n          value={serviceType}\r\n          onChange={(event, newValue) => setServiceType(newValue)}\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Service Type\" variant=\"outlined\" required margin=\"normal\" />\r\n          )}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Mileage\"\r\n          type=\"number\"\r\n          value={mileage}\r\n          onChange={(e) => setMileage(e.target.value)}\r\n          inputProps={{ min: 0, max: 1000000 }}\r\n          variant=\"outlined\"\r\n          required\r\n          margin=\"normal\"\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Date\"\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          InputLabelProps={{ shrink: true }}\r\n          inputProps={{ max: new Date().toISOString().split(\"T\")[0] }}\r\n          variant=\"outlined\"\r\n          required\r\n          margin=\"normal\"\r\n        />\r\n        <Button fullWidth type=\"submit\" variant=\"contained\" color=\"primary\" sx={{ marginTop: \"16px\" }}>\r\n          Add Record\r\n        </Button>\r\n      </form>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default AddMaintenance;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}